{"ast":null,"code":"import _defineProperty from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\src\\\\lyrics\\\\lyricsForm.js\";\nimport React, { Component } from 'react';\nimport * as lyricService from '../services/lyricService';\nimport { ReactMic, AudioPlayer } from 'react-mic';\nimport Youtube from 'react-youtube';\n\nvar LyricsForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LyricsForm, _Component);\n\n  function LyricsForm(props) {\n    var _this;\n\n    _classCallCheck(this, LyricsForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LyricsForm).call(this, props));\n\n    _this.startRecording = function () {\n      _this.setState({\n        autoPlay: true\n      });\n\n      _this.state.mediaEvent.target.playVideo();\n    };\n\n    _this.stopRecording = function () {\n      _this.setState({\n        autoPlay: false,\n        record: false\n      });\n    };\n\n    _this.onStop = function (recordedBlob) {\n      console.log('recordedBlob is: ', recordedBlob);\n\n      _this.setState({\n        blobObject: recordedBlob.blobURL\n      });\n    };\n\n    _this.onSave = function (recordedBlob) {};\n\n    _this.onPlayerStateChange = function () {\n      if (_this.state.blobObject) {\n        _this.audio.play();\n      } else {\n        _this.setState({\n          record: true\n        });\n      }\n    };\n\n    _this._onReady = function (event) {\n      _this.setState({\n        mediaEvent: event\n      }); // access to player in all event handlers via event.target\n\n\n      event.target.pauseVideo();\n    };\n\n    _this.state = {\n      lyrics: '',\n      url: 'https://www.youtube.com/watch?v=8EfITcCqauc',\n      //url: 'https://soundcloud.com/thebandits26/perrier-1',\n      inputUrl: '',\n      displayLyrics: [],\n      soundCloud: true,\n      submitButton: 'submit',\n      editMode: false,\n      editId: '',\n      record: false,\n      blobObject: '',\n      autoPlay: 0,\n      mediaEvent: '',\n      playback: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAll = _this.getAll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setUrl = _this.setUrl.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.edit = _this.edit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.vote = _this.vote.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.delete = _this.delete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.startRecording = _this.startRecording.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.stopRecording = _this.stopRecording.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.playBack = _this.playBack.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LyricsForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAll();\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      var _this2 = this;\n\n      lyricService.getAll().then(function (response) {\n        _this2.setState({\n          displayLyrics: response\n        });\n      });\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      var _this3 = this;\n\n      var data = {\n        lyrics: this.state.lyrics\n      };\n\n      if (this.state.editMode) {\n        lyricService.update(this.state.editId, data).then(function () {\n          return _this3.getAll();\n        }).then(function () {\n          _this3.setState({\n            lyrics: '',\n            editMode: false\n          });\n        });\n      } else {\n        lyricService.create(data).then(function () {\n          return _this3.getAll();\n        }).then(function () {\n          _this3.setState({\n            lyrics: '',\n            editMode: false\n          });\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(e, id) {\n      var _this4 = this;\n\n      if (window.confirm('Delete the item?')) {\n        lyricService.deleteById(id).then(function () {\n          return _this4.getAll();\n        });\n      }\n    }\n  }, {\n    key: \"edit\",\n    value: function edit(id) {\n      var _this5 = this;\n\n      lyricService.getById(id).then(function (response) {\n        _this5.setState({\n          lyrics: response.Lyric,\n          editMode: true,\n          editId: id,\n          submitButton: 'edit'\n        });\n      });\n    }\n  }, {\n    key: \"vote\",\n    value: function vote(id) {\n      var _this6 = this;\n\n      lyricService.vote(id).then(function () {\n        return _this6.getAll();\n      });\n    }\n  }, {\n    key: \"setUrl\",\n    value: function setUrl() {\n      this.setState({\n        url: this.state.inputUrl\n      });\n    }\n  }, {\n    key: \"onData\",\n    value: function onData(recordedBlob) {\n      console.log('chunk of real-time data is: ', recordedBlob);\n    }\n  }, {\n    key: \"playBack\",\n    value: function playBack(e) {\n      this.setState({\n        playback: e\n      });\n      this.state.mediaEvent.target.playVideo();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var opts = {\n        height: '166',\n        width: '500',\n        playerVars: {\n          autoplay: this.state.autoPlay\n        }\n      };\n      var soundCloud = false;\n      var youtube = '';\n\n      if (this.state.url.includes('sound')) {\n        soundCloud = true;\n      } else {\n        youtube = this.state.url.split(\"=\").pop();\n        soundCloud = false;\n      }\n\n      var record = this.state.record;\n      var displayLyrics = this.state.displayLyrics.map(function (lyric, index) {\n        //if ranked 1st\n        if (index === 0) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            className: \"text-white\",\n            style: {\n              textAlign: 'center',\n              fontSize: '20px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            class: \"glyphicon glyphicon-flash\",\n            style: {\n              color: \"yellow\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }), \"Highest Vote\", React.createElement(\"span\", {\n            class: \"glyphicon glyphicon-flash\",\n            style: {\n              color: \"yellow\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"card text-white bg-primary mb-3\",\n            key: lyric.Id,\n            style: {\n              opacity: 0.95,\n              width: '500px',\n              textAlign: \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"card-header\",\n            style: {\n              whiteSpace: 'pre-wrap',\n              textAlign: \"center\",\n              fontSize: '18px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          }, lyric.Votes, \" Votes written by:\"), React.createElement(\"div\", {\n            class: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          }, React.createElement(\"audio\", {\n            ref: \"audioSource\",\n            controls: \"controls\",\n            style: {\n              height: '50px',\n              width: '150px',\n              opacity: 0.9\n            },\n            src: _this7.state.blobObject,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          })), React.createElement(\"ul\", {\n            className: \"text-white\",\n            style: {\n              whiteSpace: 'pre-wrap',\n              textAlign: \"center\",\n              fontSize: '18px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, lyric.Lyric), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick() {\n              return _this7.vote(lyric.Id);\n            },\n            className: \"btn btn-warning\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, \"vote Up: \", lyric.Votes), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick() {\n              return _this7.edit(lyric.Id);\n            },\n            type: \"button\",\n            className: \"btn btn-secondary \",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          }, \"edit\"), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick(e) {\n              return _this7.delete(e, lyric.Id);\n            },\n            className: \"btn btn-secondary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          }, \"delete\"))));\n        }\n\n        return React.createElement(\"div\", {\n          className: \"card border-light mb-3\",\n          key: lyric.Id,\n          style: {\n            opacity: 0.95,\n            width: '500px',\n            textAlign: \"center\",\n            border: '1px solid black',\n            borderRadius: '5px!important'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"card-header text-muted\",\n          style: {\n            whiteSpace: 'pre-wrap',\n            textAlign: \"center\",\n            fontSize: '15px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, lyric.Votes, \" Votes written by: \"), React.createElement(\"div\", {\n          class: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"audio\", {\n          ref: \"audioSource\",\n          controls: \"controls\",\n          style: {\n            height: '50px',\n            width: '150px'\n          },\n          src: _this7.state.blobObject,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        })), React.createElement(\"ul\", {\n          className: \"text-muted\",\n          style: {\n            whiteSpace: 'pre-wrap',\n            textAlign: \"center\",\n            fontSize: '15px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, lyric.Lyric), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick() {\n            return _this7.vote(lyric.Id);\n          },\n          className: \"btn btn-outline-warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, \"vote Up: \", lyric.Votes), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick() {\n            return _this7.edit(lyric.Id);\n          },\n          type: \"button\",\n          className: \"btn btn-outline-secondary \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \"edit\"), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick(e) {\n            return _this7.delete(e, lyric.Id);\n          },\n          className: \"btn btn-outline-danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, \"delete\")));\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          textAlign: 'center',\n          fontSize: '60px',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"LYRICAL OG\"), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-4 offset-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"text-white \",\n        style: {\n          textAlign: 'center',\n          fontSize: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Load Soundcloud or Youtube\"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        value: this.state.inputUrl,\n        onChange: this.handleChange,\n        style: {\n          opacity: 0.6,\n          width: '90%'\n        },\n        name: \"inputUrl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return _this7.setUrl();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Load\"))), soundCloud ? React.createElement(\"iframe\", {\n        width: \"500px\",\n        height: \"166\",\n        onChange: this.onPlayerStateChange,\n        scrolling: \"no\",\n        frameborder: \"no\",\n        src: \"https://w.soundcloud.com/player/?url=\" + this.state.url + \"&amp;auto_play=\" + this.state.autoPlay + \"enablejsapi=1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }) : React.createElement(Youtube, {\n        width: \"500px\",\n        height: \"166\",\n        onReady: this._onReady,\n        videoId: youtube,\n        opts: opts,\n        onPlay: function onPlay() {\n          return _this7.setState({\n            record: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"text-white\",\n        style: {\n          textAlign: 'center',\n          fontSize: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"write your lyrics  \"), React.createElement(\"textarea\", {\n        className: \"form-control\",\n        onChange: this.handleChange,\n        value: this.state.lyrics,\n        name: \"lyrics\",\n        style: {\n          backgroundColor: 'rgba(242,242,242,0.5)',\n          borderColor: 'rgba(0, 0, 0, 0)',\n          whiteSpace: 'pre-wrap',\n          textAlign: 'center',\n          width: '500px',\n          height: '350px',\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.state.record ? this.stopRecording : this.startRecording,\n        type: \"button\",\n        style: {\n          height: 50,\n          width: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: this.state.record ? \"glyphicon glyphicon-stop\" : \"glyphicon glyphicon-record\",\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      })), React.createElement(ReactMic, {\n        record: this.state.record,\n        className: \"sound-wave\",\n        height: 50,\n        width: 100,\n        onStop: this.onStop,\n        onData: this.onData,\n        onSave: this.onSave,\n        audioBitsPerSecond: 192000,\n        strokeColor: \"#000000\",\n        visualSetting: \"sinewave\",\n        backgroundColor: \"#55b298\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(\"audio\", {\n        ref: \"audioSource\",\n        onPlay: function onPlay(e) {\n          return _this7.playBack(e);\n        },\n        onPause: function onPause() {\n          return _this7.setState({\n            autoPlay: false\n          });\n        },\n        controls: \"controls\",\n        src: this.state.blobObject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary btn-lg\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, this.state.submitButton))), React.createElement(\"div\", {\n        className: \"col-4 offset-2\",\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, displayLyrics))));\n    }\n  }]);\n\n  return LyricsForm;\n}(Component);\n\nexport default LyricsForm;","map":{"version":3,"sources":["C:\\SF.Code\\myCrudApp\\client\\src\\lyrics\\lyricsForm.js"],"names":["React","Component","lyricService","ReactMic","AudioPlayer","Youtube","LyricsForm","props","startRecording","setState","autoPlay","state","mediaEvent","target","playVideo","stopRecording","record","onStop","recordedBlob","console","log","blobObject","blobURL","onSave","onPlayerStateChange","audio","play","_onReady","event","pauseVideo","lyrics","url","inputUrl","displayLyrics","soundCloud","submitButton","editMode","editId","playback","handleChange","bind","submit","getAll","setUrl","edit","vote","delete","playBack","then","response","data","update","create","e","name","value","id","window","confirm","deleteById","getById","Lyric","opts","height","width","playerVars","autoplay","youtube","includes","split","pop","map","lyric","index","textAlign","fontSize","color","Id","opacity","whiteSpace","Votes","border","borderRadius","backgroundColor","borderColor","onData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as lyricService from '../services/lyricService'\r\nimport { ReactMic, AudioPlayer } from 'react-mic';\r\nimport Youtube from 'react-youtube'\r\n\r\nclass LyricsForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      lyrics: '',\r\n      url: 'https://www.youtube.com/watch?v=8EfITcCqauc',\r\n      //url: 'https://soundcloud.com/thebandits26/perrier-1',\r\n      inputUrl: '',\r\n      displayLyrics: [],\r\n      soundCloud: true\r\n\r\n      , submitButton: 'submit'\r\n      , editMode: false\r\n      , editId: ''\r\n\r\n      , record: false\r\n      , blobObject: ''\r\n      , autoPlay: 0\r\n      ,mediaEvent:''\r\n      ,playback:''\r\n\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.submit = this.submit.bind(this)\r\n    this.getAll = this.getAll.bind(this)\r\n    this.setUrl = this.setUrl.bind(this)\r\n\r\n    this.edit = this.edit.bind(this)\r\n    this.vote = this.vote.bind(this)\r\n    this.delete = this.delete.bind(this);\r\n\r\n    this.startRecording = this.startRecording.bind(this)\r\n    this.stopRecording = this.stopRecording.bind(this)\r\n    this.playBack = this.playBack.bind(this)\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAll()\r\n  }\r\n\r\n  getAll() {\r\n    lyricService.getAll()\r\n      .then(response => {\r\n        this.setState({\r\n          displayLyrics: response\r\n        })\r\n      })\r\n  }\r\n\r\n  submit() {\r\n    const data = {\r\n      lyrics: this.state.lyrics\r\n    }\r\n    if (this.state.editMode) {\r\n      lyricService.update(this.state.editId, data)\r\n        .then(() => this.getAll())\r\n        .then(() => {\r\n          this.setState({\r\n            lyrics: '',\r\n            editMode: false\r\n          })\r\n        })\r\n    } else {\r\n      lyricService.create(data)\r\n        .then(() => this.getAll())\r\n        .then(() => {\r\n          this.setState({\r\n            lyrics: '',\r\n            editMode: false\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  delete(e, id) {\r\n    if (window.confirm('Delete the item?')) {\r\n      lyricService.deleteById(id)\r\n        .then(() => this.getAll())\r\n    }\r\n  }\r\n\r\n  edit(id) {\r\n    lyricService.getById(id)\r\n      .then(response => {\r\n        this.setState({\r\n          lyrics: response.Lyric,\r\n          editMode: true,\r\n          editId: id,\r\n          submitButton: 'edit'\r\n        })\r\n      })\r\n  }\r\n\r\n  vote(id) {\r\n    lyricService.vote(id)\r\n      .then(() => this.getAll())\r\n  }\r\n\r\n  setUrl() {\r\n    this.setState({ url: this.state.inputUrl })\r\n  }\r\n\r\n  startRecording = () => {\r\n    this.setState({\r\n      autoPlay: true\r\n    });\r\n    this.state.mediaEvent.target.playVideo();\r\n  }\r\n\r\n  ////recording functions /////\r\n  stopRecording = () => {\r\n    this.setState({\r\n      autoPlay: false,\r\n      record:false\r\n    });\r\n  }\r\n\r\n  onData(recordedBlob) {\r\n    console.log('chunk of real-time data is: ', recordedBlob);\r\n  }\r\n\r\n  onStop = (recordedBlob) => {\r\n    console.log('recordedBlob is: ', recordedBlob);\r\n\r\n    this.setState({ blobObject: recordedBlob.blobURL })\r\n  }\r\n\r\n  onSave = (recordedBlob) => {\r\n  }\r\n\r\n  playBack(e) {\r\n    this.setState({ playback: e })\r\n    this.state.mediaEvent.target.playVideo();\r\n  }\r\n\r\n  onPlayerStateChange=()=>{\r\n    if(this.state.blobObject){\r\n    this.audio.play();\r\n    }else{\r\n      this.setState({record:true})\r\n    }\r\n  }\r\n\r\n  _onReady=event=> {\r\n    this.setState({mediaEvent:event})\r\n    // access to player in all event handlers via event.target\r\n    event.target.pauseVideo();\r\n  }\r\n\r\n  render() {\r\n\r\n    const opts = {\r\n      height: '166',\r\n      width: '500',\r\n      playerVars: {\r\n        autoplay: this.state.autoPlay\r\n      }\r\n    }\r\n    \r\n    \r\n\r\n    let soundCloud = false;\r\n    let youtube = ''\r\n    if (this.state.url.includes('sound')) {\r\n      soundCloud = true;\r\n    } else {\r\n      youtube = this.state.url.split(\"=\").pop();\r\n      soundCloud = false;\r\n    }\r\n\r\n    const { record } = this.state;\r\n\r\n\r\n    const displayLyrics = this.state.displayLyrics.map((lyric, index) => {\r\n      //if ranked 1st\r\n      if (index === 0) {\r\n        return (\r\n          <div>\r\n            <p></p>\r\n            {/* TOP RATED */}\r\n            <div style={{ textAlign: 'center' }}>\r\n              <label className=\"text-white\" style={{ textAlign: 'center', fontSize: '20px' }}>\r\n                <span class=\"glyphicon glyphicon-flash\" style={{ color: \"yellow\" }}></span>\r\n                Highest Vote<span class=\"glyphicon glyphicon-flash\" style={{ color: \"yellow\" }}></span>\r\n              </label>\r\n            </div>\r\n            <div className=\"card text-white bg-primary mb-3\" key={lyric.Id} style={{ opacity: 0.95, width: '500px', textAlign: \"center\" }}>\r\n              <div class=\"card-header\" style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '18px' }}>{lyric.Votes} Votes written by:</div>\r\n\r\n              <div class=\"card-body\">\r\n                <div>\r\n                  <audio ref=\"audioSource\" controls=\"controls\" style={{ height: '50px', width: '150px', opacity: 0.9 }} src={this.state.blobObject}></audio>\r\n                </div>\r\n                <ul className='text-white' style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '18px' }}>{lyric.Lyric}</ul>\r\n                <div></div>\r\n                <button id={lyric.Id} onClick={() => this.vote(lyric.Id)} className=\"btn btn-warning\">vote Up: {lyric.Votes}</button>\r\n                <button id={lyric.Id} onClick={() => this.edit(lyric.Id)} type=\"button\" className=\"btn btn-secondary \">edit</button>\r\n                <button id={lyric.Id} onClick={(e) => this.delete(e, lyric.Id)} className=\"btn btn-secondary\">delete</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      return (\r\n        <div className=\"card border-light mb-3\" key={lyric.Id} style={{ opacity: 0.95, width: '500px', textAlign: \"center\", border: '1px solid black', borderRadius: '5px!important' }}>\r\n          <div class=\"card-header text-muted\" style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }}>{lyric.Votes} Votes written by: </div>\r\n          <div class=\"card-body\">\r\n            <div>\r\n              <audio ref=\"audioSource\" controls=\"controls\" style={{ height: '50px', width: '150px' }} src={this.state.blobObject}></audio>\r\n            </div>\r\n            <ul className='text-muted' style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }} >{lyric.Lyric}</ul>\r\n            <div></div>\r\n\r\n            <button id={lyric.Id} onClick={() => this.vote(lyric.Id)} className=\"btn btn-outline-warning\">vote Up: {lyric.Votes}</button>\r\n            <button id={lyric.Id} onClick={() => this.edit(lyric.Id)} type=\"button\" className=\"btn btn-outline-secondary \">edit</button>\r\n            <button id={lyric.Id} onClick={(e) => this.delete(e, lyric.Id)} className=\"btn btn-outline-danger\">delete</button>\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <h1 style={{ textAlign: 'center', fontSize: '60px', color: 'white' }}>LYRICAL OG</h1>\r\n        <div className=\"row\" >\r\n          <div className=\"col-4 offset-1\" >\r\n            <p></p>\r\n\r\n            <label className='text-white ' style={{ textAlign: 'center', fontSize: '20px' }}>Load Soundcloud or Youtube</label>\r\n            <div className='input-group' >\r\n              <input className=\"form-control\" value={this.state.inputUrl} onChange={this.handleChange} style={{ opacity: 0.6, width: '90%' }} name=\"inputUrl\" />\r\n              <div className='input-group-append'>\r\n                <button className=\"btn btn-primary\" onClick={() => this.setUrl()}>Load</button>\r\n              </div>\r\n            </div>\r\n            {/* MEDIA PLAYER */}\r\n            {soundCloud ?\r\n              <iframe width=\"500px\" height=\"166\" onChange={this.onPlayerStateChange} scrolling=\"no\" frameborder=\"no\"\r\n                src={\"https://w.soundcloud.com/player/?url=\" + this.state.url + \"&amp;auto_play=\" + this.state.autoPlay+\"enablejsapi=1\"}>\r\n              </iframe>\r\n              :<Youtube width=\"500px\" height=\"166\" onReady={this._onReady} videoId={youtube} opts={opts} onPlay={()=>this.setState({record:true})}/>}\r\n\r\n              {/* // <iframe id=\"youtube\" width=\"500px\" height=\"166\" onPlay={this.onPlayerStateChange} \r\n              // src={\"https://www.youtube.com/embed/\" + youtube + \"?autoplay=\" + this.state.autoPlay}\r\n              //   frameBorder=\"0\" fs='0' allow=\"autoplay; encrypted-media\" allowFullScreen>\r\n              // </iframe>} */}\r\n            {/* LYRICS TEXT AREA */}\r\n            <label className='text-white' style={{ textAlign: 'center', fontSize: '20px' }}>write your lyrics  </label>\r\n            <textarea className=\"form-control\" onChange={this.handleChange} value={this.state.lyrics} name='lyrics'\r\n              style={{\r\n                backgroundColor: 'rgba(242,242,242,0.5)', borderColor: 'rgba(0, 0, 0, 0)', whiteSpace: 'pre-wrap',\r\n                textAlign: 'center', width: '500px', height: '350px',\r\n                fontSize: '15px'\r\n              }}>\r\n            </textarea>\r\n\r\n            <div>\r\n              <div>\r\n                <div className='row'>\r\n                {/* record button */}\r\n                  <button onClick={this.state.record ? this.stopRecording : this.startRecording} type=\"button\" style={{ height: 50, width: 50 }}>\r\n                    <span className={this.state.record ? \"glyphicon glyphicon-stop\" : \"glyphicon glyphicon-record\"} style={{ color: \"red\" }} />\r\n                  </button>\r\n                  <ReactMic\r\n                    record={this.state.record}\r\n                    className=\"sound-wave\"\r\n                    height={50}\r\n                    width={100}\r\n                    onStop={this.onStop}\r\n                    onData={this.onData}\r\n                    onSave={this.onSave}\r\n                    audioBitsPerSecond={192000}\r\n                    strokeColor=\"#000000\"\r\n                    visualSetting='sinewave'\r\n                    backgroundColor=\"#55b298\" />\r\n                  <audio ref=\"audioSource\" onPlay={(e) => this.playBack(e)} onPause={() => this.setState({ autoPlay: false })} controls=\"controls\" src={this.state.blobObject}></audio>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div>\r\n            </div>\r\n            <div>\r\n              <button className=\"btn btn-primary btn-lg\" onClick={this.submit}>{this.state.submitButton}</button>\r\n            </div>\r\n          </div>\r\n          {/* Load Lyrics */}\r\n          <div className=\"col-4 offset-2\" style={{ textAlign: 'center' }}>\r\n            <div>\r\n              {displayLyrics}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LyricsForm;\r\n"]},"metadata":{},"sourceType":"module"}