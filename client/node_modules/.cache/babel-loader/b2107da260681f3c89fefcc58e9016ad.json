{"ast":null,"code":"import _defineProperty from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\SF.Code\\\\myCrudApp\\\\client\\\\src\\\\lyrics\\\\lyricsForm.js\";\nimport React, { Component } from 'react';\nimport * as lyricService from '../services/lyricService'; // import Background from '../../public/images/cloudLightning.png';\n\nvar LyricsForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LyricsForm, _Component);\n\n  function LyricsForm(props) {\n    var _this;\n\n    _classCallCheck(this, LyricsForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LyricsForm).call(this, props));\n    _this.state = {\n      lyrics: '',\n      //url: 'https://www.youtube.com/watch?v=VzGpRycgrmM',\n      url: 'https://soundcloud.com/thebandits26/perrier-1',\n      inputUrl: '',\n      displayLyrics: [],\n      soundCloud: true,\n      submitButton: 'submit',\n      editMode: false,\n      editId: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submit = _this.submit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAll = _this.getAll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setUrl = _this.setUrl.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.edit = _this.edit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.vote = _this.vote.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.delete = _this.delete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LyricsForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAll();\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      var _this2 = this;\n\n      lyricService.getAll().then(function (response) {\n        _this2.setState({\n          displayLyrics: response\n        });\n      });\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      var _this3 = this;\n\n      var data = {\n        lyrics: this.state.lyrics\n      };\n\n      if (this.state.editMode) {\n        lyricService.update(this.state.editId, data).then(function () {\n          return _this3.getAll();\n        }).then(function () {\n          _this3.setState({\n            lyrics: '',\n            editMode: false\n          });\n        });\n      } else {\n        lyricService.create(data).then(function () {\n          return _this3.getAll();\n        }).then(function () {\n          _this3.setState({\n            lyrics: '',\n            editMode: false\n          });\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(e, id) {\n      var _this4 = this;\n\n      if (window.confirm('Delete the item?')) {\n        lyricService.deleteById(id).then(function () {\n          return _this4.getAll();\n        });\n      }\n    }\n  }, {\n    key: \"edit\",\n    value: function edit(id) {\n      var _this5 = this;\n\n      lyricService.getById(id).then(function (response) {\n        _this5.setState({\n          lyrics: response.Lyric,\n          editMode: true,\n          editId: id,\n          submitButton: 'edit'\n        });\n      });\n    }\n  }, {\n    key: \"vote\",\n    value: function vote(id) {\n      var _this6 = this;\n\n      lyricService.vote(id).then(function () {\n        return _this6.getAll();\n      });\n    }\n  }, {\n    key: \"setUrl\",\n    value: function setUrl() {\n      this.setState({\n        url: this.state.inputUrl\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var soundCloud = false;\n      var youtube = '';\n\n      if (this.state.url.includes('sound')) {\n        soundCloud = true;\n      } else {\n        youtube = this.state.url.split(\"=\").pop();\n        soundCloud = false;\n      }\n\n      var displayLyrics = this.state.displayLyrics.map(function (lyric, index) {\n        //if ranked 1st\n        if (index === 0) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              textAlign: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"badge badge-danger\",\n            style: {\n              textAlign: 'center',\n              fontSize: '20px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            class: \"glyphicon glyphicon-flash\",\n            style: {\n              color: \"wite\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }), \"Highest Vote\", React.createElement(\"span\", {\n            class: \"glyphicon glyphicon-flash\",\n            style: {\n              color: \"wite\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"card text-white bg-danger mb-3\",\n            key: lyric.Id,\n            style: {\n              width: '500px',\n              textAlign: \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"card-header\",\n            style: {\n              whiteSpace: 'pre-wrap',\n              textAlign: \"center\",\n              fontSize: '15px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, \"written by:\"), React.createElement(\"div\", {\n            class: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(\"ul\", {\n            className: \"text-white\",\n            style: {\n              whiteSpace: 'pre-wrap',\n              textAlign: \"center\",\n              fontSize: '15px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, lyric.Lyric), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick() {\n              return _this7.vote(lyric.Id);\n            },\n            className: \"btn btn-warning btn-sm\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, \"vote Up: \", lyric.Votes), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick() {\n              return _this7.edit(lyric.Id);\n            },\n            type: \"button\",\n            className: \"btn btn-secondary btn-sm\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, \"edit\"), React.createElement(\"button\", {\n            id: lyric.Id,\n            onClick: function onClick(e) {\n              return _this7.delete(e, lyric.Id);\n            },\n            className: \"btn btn-secondary btn-sm\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \"delete\"))));\n        }\n\n        return React.createElement(\"div\", {\n          className: \"card border-primary mb-3\",\n          key: lyric.Id,\n          style: {\n            width: '500px',\n            textAlign: \"center\",\n            border: '1px solid black',\n            borderRadius: '5px!important'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"card-header text-muted\",\n          style: {\n            whiteSpace: 'pre-wrap',\n            textAlign: \"center\",\n            fontSize: '15px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"written by: \"), React.createElement(\"div\", {\n          class: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          className: \"text-muted\",\n          style: {\n            whiteSpace: 'pre-wrap',\n            textAlign: \"center\",\n            fontSize: '15px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, lyric.Lyric), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick() {\n            return _this7.vote(lyric.Id);\n          },\n          className: \"btn btn-outline-warning btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"vote Up: \", lyric.Votes), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick() {\n            return _this7.edit(lyric.Id);\n          },\n          type: \"button\",\n          className: \"btn btn-outline-secondary btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"edit\"), React.createElement(\"button\", {\n          id: lyric.Id,\n          onClick: function onClick(e) {\n            return _this7.delete(e, lyric.Id);\n          },\n          className: \"btn btn-outline-danger btn-sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"delete\")));\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 offset-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-success\",\n        style: {\n          fontSize: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"write your lyrics  \"), React.createElement(\"textarea\", {\n        className: \"form-control\",\n        onChange: this.handleChange,\n        value: this.state.lyrics,\n        name: \"lyrics\",\n        style: {\n          whiteSpace: 'pre-wrap',\n          textAlign: 'center',\n          width: '500px',\n          height: '450px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, this.state.submitButton))), React.createElement(\"div\", {\n        className: \"col-4 offset-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-white badge badge-primary\",\n        style: {\n          textAlign: 'center',\n          fontSize: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Load Soundcloud or Youtube\"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        value: this.state.inputUrl,\n        onChange: this.handleChange,\n        style: {\n          width: '400px'\n        },\n        name: \"inputUrl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return _this7.setUrl();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Load\"))), soundCloud ? React.createElement(\"iframe\", {\n        width: \"500px\",\n        height: \"166\",\n        scrolling: \"no\",\n        frameborder: \"no\",\n        src: \"https://w.soundcloud.com/player/?url=\" + this.state.url + \"&amp;{ ADD YOUR PARAMETERS HERE }\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }) : React.createElement(\"iframe\", {\n        width: \"500px\",\n        height: \"166\",\n        src: \"https://www.youtube.com/embed/\" + youtube,\n        frameBorder: \"0\",\n        allow: \"autoplay; encrypted-media\",\n        allowFullScreen: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, displayLyrics))));\n    }\n  }]);\n\n  return LyricsForm;\n}(Component);\n\nexport default LyricsForm;","map":{"version":3,"sources":["C:\\SF.Code\\myCrudApp\\client\\src\\lyrics\\lyricsForm.js"],"names":["React","Component","lyricService","LyricsForm","props","state","lyrics","url","inputUrl","displayLyrics","soundCloud","submitButton","editMode","editId","handleChange","bind","submit","getAll","setUrl","edit","vote","delete","then","response","setState","data","update","create","e","target","name","value","id","window","confirm","deleteById","getById","Lyric","youtube","includes","split","pop","map","lyric","index","textAlign","fontSize","color","Id","width","whiteSpace","Votes","border","borderRadius","height"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,YAAZ,MAA8B,0BAA9B,C,CACA;;IAEMC,U;;;;;AAEJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEX;AACAC,MAAAA,GAAG,EAAE,+CAHM;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,aAAa,EAAE,EALJ;AAMXC,MAAAA,UAAU,EAAE,IAND;AAQTC,MAAAA,YAAY,EAAE,QARL;AASTC,MAAAA,QAAQ,EAAE,KATD;AAUVC,MAAAA,MAAM,EAAC;AAVG,KAAb;AAaA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AACA,UAAKE,MAAL,GAAc,MAAKA,MAAL,CAAYF,IAAZ,uDAAd;AACA,UAAKG,MAAL,GAAY,MAAKA,MAAL,CAAYH,IAAZ,uDAAZ;AAEA,UAAKI,IAAL,GAAY,MAAKA,IAAL,CAAUJ,IAAV,uDAAZ;AACA,UAAKK,IAAL,GAAY,MAAKA,IAAL,CAAUL,IAAV,uDAAZ;AACA,UAAKM,MAAL,GAAc,MAAKA,MAAL,CAAYN,IAAZ,uDAAd;AAvBiB;AAwBlB;;;;wCAEmB;AAClB,WAAKE,MAAL;AACD;;;6BAEQ;AAAA;;AACPf,MAAAA,YAAY,CAACe,MAAb,GACGK,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACC,QAAL,CAAc;AACZf,UAAAA,aAAa,EAAEc;AADH,SAAd;AAGD,OALH;AAMD;;;6BAEQ;AAAA;;AACP,UAAME,IAAI,GAAG;AACXnB,QAAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC;AADR,OAAb;;AAGA,UAAI,KAAKD,KAAL,CAAWO,QAAf,EAAyB;AACvBV,QAAAA,YAAY,CAACwB,MAAb,CAAoB,KAAKrB,KAAL,CAAWQ,MAA/B,EAAuCY,IAAvC,EACGH,IADH,CACQ;AAAA,iBAAM,MAAI,CAACL,MAAL,EAAN;AAAA,SADR,EAEGK,IAFH,CAEQ,YAAM;AACV,UAAA,MAAI,CAACE,QAAL,CAAc;AACZlB,YAAAA,MAAM,EAAE,EADI;AAEZM,YAAAA,QAAQ,EAAE;AAFE,WAAd;AAID,SAPH;AAQD,OATD,MASO;AACLV,QAAAA,YAAY,CAACyB,MAAb,CAAoBF,IAApB,EACGH,IADH,CACQ;AAAA,iBAAM,MAAI,CAACL,MAAL,EAAN;AAAA,SADR,EAEGK,IAFH,CAEQ,YAAM;AACV,UAAA,MAAI,CAACE,QAAL,CAAc;AACZlB,YAAAA,MAAM,EAAE,EADI;AAEZM,YAAAA,QAAQ,EAAE;AAFE,WAAd;AAID,SAPH;AAQD;AACF;;;iCAEYgB,C,EAAG;AACd,WAAKJ,QAAL,qBAAiBI,CAAC,CAACC,MAAF,CAASC,IAA1B,EAAiCF,CAAC,CAACC,MAAF,CAASE,KAA1C;AACD;;;4BAEMH,C,EAAGI,E,EAAI;AAAA;;AACZ,UAAIC,MAAM,CAACC,OAAP,CAAe,kBAAf,CAAJ,EAAwC;AACtChC,QAAAA,YAAY,CAACiC,UAAb,CAAwBH,EAAxB,EACGV,IADH,CACQ;AAAA,iBAAM,MAAI,CAACL,MAAL,EAAN;AAAA,SADR;AAED;AACF;;;yBAEIe,E,EAAI;AAAA;;AACP9B,MAAAA,YAAY,CAACkC,OAAb,CAAqBJ,EAArB,EACGV,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACC,QAAL,CAAc;AACZlB,UAAAA,MAAM,EAAEiB,QAAQ,CAACc,KADL;AAEZzB,UAAAA,QAAQ,EAAE,IAFE;AAGZC,UAAAA,MAAM,EAACmB,EAHK;AAIZrB,UAAAA,YAAY,EAAC;AAJD,SAAd;AAMD,OARH;AASD;;;yBAEIqB,E,EAAI;AAAA;;AACP9B,MAAAA,YAAY,CAACkB,IAAb,CAAkBY,EAAlB,EACCV,IADD,CACM;AAAA,eAAI,MAAI,CAACL,MAAL,EAAJ;AAAA,OADN;AAED;;;6BAEO;AACN,WAAKO,QAAL,CAAc;AAAEjB,QAAAA,GAAG,EAAE,KAAKF,KAAL,CAAWG;AAAlB,OAAd;AACD;;;6BAEQ;AAAA;;AACP,UAAIE,UAAU,GAAG,KAAjB;AACA,UAAI4B,OAAO,GAAG,EAAd;;AACA,UAAI,KAAKjC,KAAL,CAAWE,GAAX,CAAegC,QAAf,CAAwB,OAAxB,CAAJ,EAAsC;AACpC7B,QAAAA,UAAU,GAAG,IAAb;AACD,OAFD,MAEO;AACL4B,QAAAA,OAAO,GAAG,KAAKjC,KAAL,CAAWE,GAAX,CAAeiC,KAAf,CAAqB,GAArB,EAA0BC,GAA1B,EAAV;AACA/B,QAAAA,UAAU,GAAG,KAAb;AACD;;AAED,UAAMD,aAAa,GAAG,KAAKJ,KAAL,CAAWI,aAAX,CAAyBiC,GAAzB,CAA6B,UAACC,KAAD,EAAOC,KAAP,EAAiB;AAClE;AACA,YAAGA,KAAK,KAAG,CAAX,EAAa;AACX,iBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,SAAS,EAAE;AAAb,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAoC,YAAA,KAAK,EAAE;AAAEA,cAAAA,SAAS,EAAE,QAAb;AAAsBC,cAAAA,QAAQ,EAAC;AAA/B,aAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAM,YAAA,KAAK,EAAC,2BAAZ;AAAwC,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,kBAEY;AAAM,YAAA,KAAK,EAAC,2BAAZ;AAAwC,YAAA,KAAK,EAAE;AAAEA,cAAAA,KAAK,EAAE;AAAT,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFZ,CADA,CADF,EAME;AAAK,YAAA,SAAS,EAAC,gCAAf;AAAgD,YAAA,GAAG,EAAEJ,KAAK,CAACK,EAA3D;AAA+D,YAAA,KAAK,EAAE;AAACC,cAAAA,KAAK,EAAE,OAAR;AAAiBJ,cAAAA,SAAS,EAAE;AAA5B,aAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACF;AAAK,YAAA,KAAK,EAAC,aAAX;AAAyB,YAAA,KAAK,EAAE;AAAEK,cAAAA,UAAU,EAAE,UAAd;AAA0BL,cAAAA,SAAS,EAAE,QAArC;AAA+CC,cAAAA,QAAQ,EAAE;AAAzD,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADE,EAGF;AAAK,YAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAI,YAAA,SAAS,EAAC,YAAd;AAA2B,YAAA,KAAK,EAAE;AAAEI,cAAAA,UAAU,EAAE,UAAd;AAA0BL,cAAAA,SAAS,EAAE,QAArC;AAA+CC,cAAAA,QAAQ,EAAE;AAAzD,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAsGH,KAAK,CAACN,KAA5G,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,EAGI;AAAQ,YAAA,EAAE,EAAEM,KAAK,CAACK,EAAlB;AAAsB,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAI,CAAC5B,IAAL,CAAUuB,KAAK,CAACK,EAAhB,CAAN;AAAA,aAA/B;AAA0D,YAAA,SAAS,EAAC,wBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAuGL,KAAK,CAACQ,KAA7G,CAHJ,EAII;AAAQ,YAAA,EAAE,EAAER,KAAK,CAACK,EAAlB;AAAsB,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAI,CAAC7B,IAAL,CAAUwB,KAAK,CAACK,EAAhB,CAAN;AAAA,aAA/B;AAA0D,YAAA,IAAI,EAAC,QAA/D;AAAwE,YAAA,SAAS,EAAC,0BAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAKI;AAAQ,YAAA,EAAE,EAAEL,KAAK,CAACK,EAAlB;AAAsB,YAAA,OAAO,EAAE,iBAACpB,CAAD;AAAA,qBAAO,MAAI,CAACP,MAAL,CAAYO,CAAZ,EAAee,KAAK,CAACK,EAArB,CAAP;AAAA,aAA/B;AAAgE,YAAA,SAAS,EAAC,0BAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,CAHE,CANF,CADF;AAoBD;;AACD,eACE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAA0C,UAAA,GAAG,EAAEL,KAAK,CAACK,EAArD;AAAyD,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAE,OAAR;AAAiBJ,YAAAA,SAAS,EAAE,QAA5B;AAAsCO,YAAAA,MAAM,EAAE,iBAA9C;AAAiEC,YAAAA,YAAY,EAAE;AAA/E,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAC,wBAAX;AAAoC,UAAA,KAAK,EAAE;AAAEH,YAAAA,UAAU,EAAE,UAAd;AAA0BL,YAAAA,SAAS,EAAE,QAArC;AAA+CC,YAAAA,QAAQ,EAAE;AAAzD,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,SAAS,EAAC,YAAd;AAA2B,UAAA,KAAK,EAAE;AAAEI,YAAAA,UAAU,EAAE,UAAd;AAA0BL,YAAAA,SAAS,EAAE,QAArC;AAA+CC,YAAAA,QAAQ,EAAE;AAAzD,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuGH,KAAK,CAACN,KAA7G,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAGI;AAAQ,UAAA,EAAE,EAAEM,KAAK,CAACK,EAAlB;AAAsB,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC5B,IAAL,CAAUuB,KAAK,CAACK,EAAhB,CAAN;AAAA,WAA/B;AAA0D,UAAA,SAAS,EAAC,gCAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA+GL,KAAK,CAACQ,KAArH,CAHJ,EAII;AAAQ,UAAA,EAAE,EAAER,KAAK,CAACK,EAAlB;AAAsB,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC7B,IAAL,CAAUwB,KAAK,CAACK,EAAhB,CAAN;AAAA,WAA/B;AAA0D,UAAA,IAAI,EAAC,QAA/D;AAAwE,UAAA,SAAS,EAAC,kCAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,EAKI;AAAQ,UAAA,EAAE,EAAEL,KAAK,CAACK,EAAlB;AAAsB,UAAA,OAAO,EAAE,iBAACpB,CAAD;AAAA,mBAAO,MAAI,CAACP,MAAL,CAAYO,CAAZ,EAAee,KAAK,CAACK,EAArB,CAAP;AAAA,WAA/B;AAAgE,UAAA,SAAS,EAAC,+BAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,CAFF,CADF;AAYD,OApCqB,CAAtB;AAsCA,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAE;AAAEF,UAAAA,QAAQ,EAAE;AAAZ,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAEE;AAAU,QAAA,SAAS,EAAC,cAApB;AAAmC,QAAA,QAAQ,EAAE,KAAKhC,YAAlD;AAAgE,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,MAAlF;AAA0F,QAAA,IAAI,EAAC,QAA/F;AAAwG,QAAA,KAAK,EAAE;AAAE4C,UAAAA,UAAU,EAAE,UAAd;AAA0BL,UAAAA,SAAS,EAAC,QAApC;AAA8CI,UAAAA,KAAK,EAAE,OAArD;AAA8DK,UAAAA,MAAM,EAAE;AAAtE,SAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE,KAAKtC,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2D,KAAKX,KAAL,CAAWM,YAAtE,CADF,CAHF,CADF,EAQE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAgD,QAAA,KAAK,EAAE;AAAEkC,UAAAA,SAAS,EAAC,QAAZ;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EAEE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWG,QAAlD;AAA4D,QAAA,QAAQ,EAAE,KAAKM,YAA3E;AAAyF,QAAA,KAAK,EAAE;AAAEmC,UAAAA,KAAK,EAAE;AAAT,SAAhG;AAAoH,QAAA,IAAI,EAAC,UAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC/B,MAAL,EAAN;AAAA,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAFF,CAFF,EAQGR,UAAU,GACT;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAsB,QAAA,MAAM,EAAC,KAA7B;AAAmC,QAAA,SAAS,EAAC,IAA7C;AAAkD,QAAA,WAAW,EAAC,IAA9D;AACE,QAAA,GAAG,EAAE,0CAA0C,KAAKL,KAAL,CAAWE,GAArD,GAA2D,mCADlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADS,GAIP;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAsB,QAAA,MAAM,EAAC,KAA7B;AAAmC,QAAA,GAAG,EAAE,mCAAmC+B,OAA3E;AACA,QAAA,WAAW,EAAC,GADZ;AACgB,QAAA,KAAK,EAAC,2BADtB;AACkD,QAAA,eAAe,MADjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZN,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG7B,aADH,CAdF,CARF,CADF,CADF;AA+BD;;;;EAjLsBR,S;;AAoLzB,eAAeE,UAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport * as lyricService from '../services/lyricService'\r\n// import Background from '../../public/images/cloudLightning.png';\r\n\r\nclass LyricsForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      lyrics: '',\r\n      //url: 'https://www.youtube.com/watch?v=VzGpRycgrmM',\r\n      url: 'https://soundcloud.com/thebandits26/perrier-1',\r\n      inputUrl: '',\r\n      displayLyrics: [],\r\n      soundCloud: true\r\n\r\n      , submitButton: 'submit'\r\n      , editMode: false\r\n      ,editId:''\r\n\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.submit = this.submit.bind(this)\r\n    this.getAll = this.getAll.bind(this)\r\n    this.setUrl=this.setUrl.bind(this)\r\n\r\n    this.edit = this.edit.bind(this)\r\n    this.vote = this.vote.bind(this)\r\n    this.delete = this.delete.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAll()\r\n  }\r\n\r\n  getAll() {\r\n    lyricService.getAll()\r\n      .then(response => {\r\n        this.setState({\r\n          displayLyrics: response\r\n        })\r\n      })\r\n  }\r\n\r\n  submit() {\r\n    const data = {\r\n      lyrics: this.state.lyrics\r\n    }\r\n    if (this.state.editMode) {\r\n      lyricService.update(this.state.editId, data)\r\n        .then(() => this.getAll())\r\n        .then(() => {\r\n          this.setState({\r\n            lyrics: '',\r\n            editMode: false\r\n          })\r\n        })\r\n    } else {\r\n      lyricService.create(data)\r\n        .then(() => this.getAll())\r\n        .then(() => {\r\n          this.setState({\r\n            lyrics: '',\r\n            editMode: false\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  delete(e, id) {\r\n    if (window.confirm('Delete the item?')) {\r\n      lyricService.deleteById(id)\r\n        .then(() => this.getAll())\r\n    }\r\n  }\r\n\r\n  edit(id) {\r\n    lyricService.getById(id)\r\n      .then(response => {\r\n        this.setState({\r\n          lyrics: response.Lyric,\r\n          editMode: true,\r\n          editId:id,\r\n          submitButton:'edit'\r\n        })\r\n      })\r\n  }\r\n\r\n  vote(id) {\r\n    lyricService.vote(id)\r\n    .then(()=>this.getAll())\r\n  }\r\n\r\n  setUrl(){\r\n    this.setState({ url: this.state.inputUrl })\r\n  }\r\n\r\n  render() {\r\n    let soundCloud = false;\r\n    let youtube = ''\r\n    if (this.state.url.includes('sound')) {\r\n      soundCloud = true;\r\n    } else {\r\n      youtube = this.state.url.split(\"=\").pop();\r\n      soundCloud = false;\r\n    }\r\n\r\n    const displayLyrics = this.state.displayLyrics.map((lyric,index) => {\r\n      //if ranked 1st\r\n      if(index===0){\r\n        return (\r\n          <div>\r\n            <div style={{ textAlign: 'center' }}>\r\n            <div className=\"badge badge-danger\" style={{ textAlign: 'center',fontSize:'20px' }}>\r\n            <span class=\"glyphicon glyphicon-flash\" style={{ color: \"wite\" }}></span>\r\n            Highest Vote<span class=\"glyphicon glyphicon-flash\" style={{ color: \"wite\" }}></span></div>\r\n            </div>\r\n            <div className=\"card text-white bg-danger mb-3\" key={lyric.Id} style={{width: '500px', textAlign: \"center\" }}>\r\n          <div class=\"card-header\" style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }}>written by:</div>\r\n\r\n          <div class=\"card-body\">\r\n              <ul className='text-white' style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }}>{lyric.Lyric}</ul>\r\n              <div></div>\r\n              <button id={lyric.Id} onClick={() => this.vote(lyric.Id)} className=\"btn btn-warning btn-sm\">vote Up: {lyric.Votes}</button>\r\n              <button id={lyric.Id} onClick={() => this.edit(lyric.Id)} type=\"button\" className=\"btn btn-secondary btn-sm\">edit</button>\r\n              <button id={lyric.Id} onClick={(e) => this.delete(e, lyric.Id)} className=\"btn btn-secondary btn-sm\">delete</button>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        )\r\n      }\r\n      return (\r\n        <div className=\"card border-primary mb-3\" key={lyric.Id} style={{width: '500px', textAlign: \"center\" ,border: '1px solid black', borderRadius: '5px!important' }}>\r\n          <div class=\"card-header text-muted\" style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }}>written by: </div>\r\n          <div class=\"card-body\">\r\n              <ul className='text-muted' style={{ whiteSpace: 'pre-wrap', textAlign: \"center\", fontSize: '15px' }} >{lyric.Lyric}</ul>\r\n              <div></div>\r\n              <button id={lyric.Id} onClick={() => this.vote(lyric.Id)} className=\"btn btn-outline-warning btn-sm\">vote Up: {lyric.Votes}</button>\r\n              <button id={lyric.Id} onClick={() => this.edit(lyric.Id)} type=\"button\" className=\"btn btn-outline-secondary btn-sm\">edit</button>\r\n              <button id={lyric.Id} onClick={(e) => this.delete(e, lyric.Id)} className=\"btn btn-outline-danger btn-sm\">delete</button>\r\n            </div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\" >\r\n          <div className=\"col-3 offset-1\">\r\n            <div className='text-success' style={{ fontSize: '20px' }}>write your lyrics  </div>\r\n            <textarea className=\"form-control\" onChange={this.handleChange} value={this.state.lyrics} name='lyrics' style={{ whiteSpace: 'pre-wrap', textAlign:'center', width: '500px', height: '450px' }}></textarea>\r\n            <div>\r\n              <button className=\"btn btn-primary\" onClick={this.submit}>{this.state.submitButton}</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 offset-2\">\r\n            <div className='text-white badge badge-primary' style={{ textAlign:'center',fontSize: '20px' }}>Load Soundcloud or Youtube</div>\r\n            <div className='input-group' >\r\n              <input className=\"form-control\" value={this.state.inputUrl} onChange={this.handleChange} style={{ width: '400px' }} name=\"inputUrl\" />\r\n              <div className='input-group-append'>\r\n                <button className=\"btn btn-primary\" onClick={() => this.setUrl()}>Load</button>\r\n              </div>\r\n            </div>\r\n            {soundCloud ?\r\n              <iframe width=\"500px\" height=\"166\" scrolling=\"no\" frameborder=\"no\"\r\n                src={\"https://w.soundcloud.com/player/?url=\" + this.state.url + \"&amp;{ ADD YOUR PARAMETERS HERE }\"}>\r\n              </iframe>\r\n              : <iframe width=\"500px\" height=\"166\" src={\"https://www.youtube.com/embed/\" + youtube}\r\n                frameBorder=\"0\" allow=\"autoplay; encrypted-media\" allowFullScreen></iframe>}\r\n            <div>\r\n              {displayLyrics}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LyricsForm;\r\n"]},"metadata":{},"sourceType":"module"}